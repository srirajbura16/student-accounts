(this["webpackJsonpstudent-profiles"]=this["webpackJsonpstudent-profiles"]||[]).push([[0],{16:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(9),r=n.n(c),i=n(3),u=n.n(i),l=n(4),j=n(2),o=(n(6),n(7)),d=n(0);var b=function(e){var t=e.extend,n=e.setExtend;function s(){n(!t)}return Object(d.jsx)("div",{className:"ExtendComponent",children:t?Object(d.jsx)(o.a,{className:"icon",onClick:s}):Object(d.jsx)(o.b,{className:"icon",onClick:s})})};var O=function(e){var t=e.email,n=e.company,s=e.skill,a=e.grades;return Object(d.jsxs)("div",{className:"PersonalInfo",children:[Object(d.jsxs)("div",{className:"email",children:["Email: ",t]}),Object(d.jsxs)("div",{className:"company",children:["Company: ",n]}),Object(d.jsxs)("div",{className:"skill",children:["Skill: ",s]}),Object(d.jsxs)("div",{className:"average",children:["Average: ",function(e){return(e.reduce((function(e,t){return parseInt(e)+parseInt(t)}))/e.length).toFixed(2)}(a)]})]})},h=n(5);var f=function(e){var t=e.student,n=Object(s.useState)(),a=Object(j.a)(n,2),c=a[0],r=a[1];return Object(d.jsxs)("div",{className:"Tags",children:[Object(d.jsx)("div",{className:"tag-container",children:t.tags.map((function(e){return Object(d.jsx)("div",{className:"tag",children:e},Object(h.a)())}))}),Object(d.jsx)("form",{onSubmit:function(e){e.preventDefault(),t.tags.push(c),r(""),e.target.reset()},children:Object(d.jsx)("input",{type:"text",className:"tag-input",onChange:function(e){var t=e.target.value;r(t)},placeholder:"Add a tag"})})]})};var m=function(e){var t=e.grades;return Object(d.jsx)("ul",{className:"TestScores",children:t.map((function(e,t){return Object(d.jsxs)("li",{children:["Test ",t+1,": ",Object(d.jsxs)("span",{className:"grade-percent",children:[e,"%"]})]},Object(h.a)())}))})};var p=function(e){var t=e.student,n=Object(s.useState)(!1),a=Object(j.a)(n,2),c=a[0],r=a[1],i=t.firstName,u=t.lastName,l=t.email,o=t.company,h=t.skill,p=t.grades;return Object(d.jsxs)("div",{className:"StudentInfo",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"name",children:Object(d.jsx)("h1",{children:"".concat(i," ").concat(u).toUpperCase()})}),Object(d.jsxs)("div",{className:"info-container",children:[Object(d.jsx)(O,{email:l,company:o,skill:h,grades:p}),!c&&Object(d.jsx)(f,{student:t}),c&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(m,{grades:p}),Object(d.jsx)(f,{student:t})]})]})]}),Object(d.jsx)(b,{extend:c,setExtend:r})]})};function x(e){var t=e.student;return Object(d.jsxs)("div",{className:"Student",children:[Object(d.jsxs)("div",{className:"student-container",children:[Object(d.jsx)("div",{className:"avatar",children:Object(d.jsx)("img",{src:t.pic,alt:"Profile Avatar"})}),Object(d.jsx)(p,{student:t})]}),Object(d.jsx)("hr",{})]})}var v=function(e){var t=e.students;return Object(d.jsx)("div",{className:"Students",children:t.map((function(e){return Object(d.jsx)(x,{student:e},e.id)}))})};function g(){return(g=Object(l.a)(u.a.mark((function e(){var t,n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.hatchways.io/assessment/students",e.prev=1,e.next=4,fetch("https://api.hatchways.io/assessment/students",{mode:"cors"});case 4:return t=e.sent,e.next=7,t.json();case 7:return n=e.sent,(s=n.students).forEach((function(e){return e.tags=[]})),e.abrupt("return",[s,null]);case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",[null,e.t0]);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}var N=function(){return g.apply(this,arguments)};var y=function(){var e=Object(s.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)("Loading..."),r=Object(j.a)(c,2),i=r[0],o=r[1],b=Object(s.useState)(""),O=Object(j.a)(b,2),h=O[0],f=O[1],m=Object(s.useState)(""),p=Object(j.a)(m,2),x=p[0],g=p[1],y=Object(s.useRef)([]);return Object(s.useEffect)((function(){function e(){return(e=Object(l.a)(u.a.mark((function e(){var t,n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:if(t=e.sent,n=Object(j.a)(t,2),s=n[0],!n[1]){e.next=11;break}return o("Failed to fetch data"),e.abrupt("return");case 11:y.current=s,a(s);case 13:o("No students found");case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(s.useEffect)((function(){var e=function(e){return e.filter((function(e){return!!"".concat(e.firstName," ").concat(e.lastName).toLowerCase().includes(h)&&e}))}(function(){if(0===x.length)return y.current;return y.current.filter((function(e){return t=e.tags,n=x,!!t.some((function(e){return e.includes(n)}))&&e;var t,n}))}());a(e)}),[h,x]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsxs)("div",{className:"navbar",children:[Object(d.jsx)("input",{type:"text",className:"name-search",placeholder:"Search by name",onChange:function(e){f(e.target.value.toLowerCase())}}),Object(d.jsx)("input",{type:"text",className:"tag-search",placeholder:"Search by tag",onChange:function(e){g(e.target.value.toLowerCase())}})]}),n.length>0?Object(d.jsx)(v,{students:n}):Object(d.jsx)("div",{className:"error-loading-msg",children:i})]})};r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(y,{})}),document.getElementById("root"))},6:function(e,t,n){}},[[16,1,2]]]);
//# sourceMappingURL=main.cd3eda0a.chunk.js.map